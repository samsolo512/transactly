version: 2

models:
  - name: dim_opportunity
    description: One row per Salesforce opportunity
    columns:
      - name: opportunity_pk
        description: opportunity primary key.  Assigned by data warehouse.

      - name: opportunity_id
        description: unique identifier for the opportunity. Assigned by Salesforce
        test: not_null

      - name: product_id
        description: unique identifier for the product.  Assigned by Salesforce

      - name: owner_name
        description: the name of the opportunity owner

      - name: stage
        description: (closed won, processing, on-hold, ...)

      - name: opportunity_line_item_name
        description: description of the opportunity line item

      - name: opportunity_name
        description: description of the opportunity

      - name: product_name
        description: product that was sold as part of the opportunity

      - name: product_family
        description: type of product (telecom, security, insurance, ...)

      - name: account_name
        description: account that owned, or was responsible for, the opportunity

      - name: contact_id
        description: unique identifier of the contact attached to the opportunity.  Assigned by Salesforce

      - name: email
        description: email of the contact

      - name: full_name
        description: full name of the contact

      - name: city
        description: city of the contact

      - name: state
        description: state of the contact

      - name: created_date
        description: date the contact record was created

      - name: water
        description: the water service attached to the opportunity where applicable