version: 2

models:
  - name: dim_agent
    description: Users who are agents.  One row per agent.  In other words, they are either TC users who have the role of 'role-agent', or they are agents assigned to Salesforce leads
    columns:
      - name: agent_pk
        description: agent primary key.  Assigned by data warehouse.

      - name: user_id
        description: unique identifier for the user. Assigned by TC app.

      - name: agent_name
        description: full name of the agent

      - name: agent_email
        description: email of the agent

      - name: tc_created_date
        description: the date the TC user record was created

      - name: lead_created_date
        description: the date the lead record was created

      - name: tc_agent_flag
        description: 1 = is a TC Agent, 0 = not a TC Agent

      - name: lead_agent_flag
        description: 1 = is a lead Agent, 0 = not a lead Agent

      - name: agent_type
        description: whether the agent is 'TC', 'Lead', or 'TC and Lead'

  - name: dim_contact
    description: One row per TC contact.  These are the people associated with a transaction who aren't a member.
    columns:
      - name: contact_pk
        description: contact primary key.  Assigned by data warehouse

      - name: contact_id
        description: unique identifier for the contact.  Assigned by TC app

      - name: role_name
        description: the role of the contact as assigned in TC app

      - name: party_name
        description: two options - 'buyer' or 'seller'

      - name: side_id
        description: numeric value associated with party_name

      - name: email
        description: contact email

      - name: last_name
        description: last name of the contact

      - name: first_name
        description: first name of the contact

      - name: transaction_id
        description: unique identifier for the transaction

  - name: dim_date
    description: one row per date
    columns:
      - name: date_pk
        description: date primary key.  Assigned by data warehouse

      - name: date_id
        description: unique identifier of the date.  Assigned by data warehouse.  The number is made up yyy-mm-dd

      - name: year
        description: date year in digits

      - name: month
        description: date month in digits

      - name: month_name
        description: date month in three letters (Jan, Feb, Mar...)

      - name: day_of_mon
        description: day of month (1-31)

      - name: day_of_week
        description: day of week (1-7)

      - name: week_of_year
        description: week of year (1-52)

      - name: day_of_year
        description: day of year (1-365)

  - name: dim_lead
    description: one row per Salesforce lead
    columns:
      - name: lead_pk
        description: lead primary key.  Assigned by Salesforce

      - name: lead_id
        description: unique identifier of the lead.  Assigned by data warehouse

      - name: first_name
        description: first name of lead

      - name: last_name
        description: last name of lead

      - name: name
        description: full name of lead

      - name: company
        description: the source of the lead

      - name: street
        description: lead street address

      - name: city
        description: lead city address

      - name: state
        description: lead state address

      - name: zip
        description: lead zip address

      - name: country
        description: lead country address

      - name: full_address
        description: combined street, city, state, country

      - name: phone
        description: lead phone

      - name: email
        description: lead email

      - name: lead_source
        description: source of lead

      - name: lead_created_date
        description: date when the lead record was created

      - name: agent_name
        description: name of the lead's agent

      - name: agent_email
        description: email of the lead's agent

      - name: electricity
        description: where the lead signed up for electricity utility

      - name: sewer
        description: where the lead signed up for sewer utility

      - name: trash
        description: where the lead signed up for trash utility

      - name: water
        description: where the lead signed up for water utility

      - name: gas
        description: where the lead signed up for gas utility

      - name: internet
        description: where the lead signed up for internet

      - name: account_name
        description: the account of the lead

      - name: account_owner
        description: the owner of the lead's account
